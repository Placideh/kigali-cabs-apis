<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
        <title>Register Booking</title>
        <h:outputStylesheet library="css" name="register.css"/>
    </h:head>
    <h:body>
         <header id="main-header">
            <h:graphicImage value="/images/logo2.png" class="logo"/>
            <h3 class="logoHeading">KPC</h3>
            <h3 class="headingTypography">Kigali Parking Cabs</h3>
            <div class="my-list">
             <h:form>
                <ul class="ul-list">
                    <li><h:commandLink value="Home" action="#{userBB.home()}"/></li>
                    <li><h:commandLink value="About" action="#{userBB.about()}" /></li>
                    <li><h:commandLink value="LogOut"  action="#{adminBB.setNoCache()}"/></li>
                </ul>
            </h:form>
            </div>
        </header>
        <div class="showcase">
            <h1>Park Well And Park Safety </h1>
            <p>Your Property Is Safe and reliable With Us that's our ambition over a hundreds people
                we cooperate we treat you as One cause your Vehicle it is the most precious thing
                that we value we ensure that it is well protected and you feel Welcomed always  </p>
        </div>
        <div class="container">
            <h2>Register You Vehicle</h2>
            <h:form class="parkCar"  id="myForm" >
		<div>
		    <h:outputLabel for="bookingId" value="Booking Id Code" />
		    <h:inputText  disabled="true"   id="bookingId" value="#{ carBB.bookingId}" style="color:black;font-weight:bold"  /><br/>
		    <h:outputLabel for="bookingId" value="Copy It You will use It while Parking" style="color:blue;font-style:italic" />
		</div>
                <div>
                    <h:outputLabel for="carOwner" value="username" />
                    <h:inputText id="carOwner"  
				 value="#{carBB.booking.carOwner}"
				 required="true"
				 requiredMessage="ownerName must be filled"
                                 a:placeholder="Placide Hakiz"
				 validatorMessage="owner name  contains invalid characters"
                                 >
			<f:validateRegex pattern="[A-Za-z]+" />
                    </h:inputText>
		    <br />
			<h:message for="ownerName" class="error" />
                </div>
                 <div>
                    <h:outputLabel for="plateNo" value="Car Plate Number" />
                    <h:inputText id="plateNo" 
				 value="#{carBB.booking.plateNo}"
                                 a:placeholder="RAA123T "
				 required="true"
				 requiredMessage="PlateNo must be filled"
				 validatorMessage="Plate No must be valid"
                                 >
			<f:validateRegex pattern="[A-Z]{3}[0-9]{3}[A-Z]{1}" />
                    </h:inputText>
		    <br />
			<h:message for="plateNo" class="error" />
                </div>
               
                
                <div class="">
                    <h:outputLabel for="location" value="Locations" />
                    <h:selectOneMenu  id="location" class="selection" value="#{carBB.booking.location}"
				      required="true"
				      requiredMessage="Please Select a Block Slot"
				      >
                        <f:selectItem itemValue="${null}" itemLabel="Select Your Prefered Block slot"/>
                        <f:selectItem  itemValue="DownTown"/>
                        <f:selectItem itemValue="SimbaBlock"/>
                        <f:selectItem  itemValue="MakuzaBlock"/>
                        <f:selectItem  itemValue="AirPortBlock"/>
                        <f:selectItem  itemValue="RafikiBlock"/>
                    </h:selectOneMenu>
		    <br />
			<h:message for="location" class="error" />
                </div>
                   <div>
                    <h:outputLabel for="payment" value="Pay and Book Place" />
                    <h:inputText id="payment" required="false" 
				 value="#{carBB.car.setPayment(200)}"
                                 validatorMessage="Amount must be filled"
                                 a:placeholder="200RWF "
				 disabled="true"
				 style="color:black;font-weight:bold"
                                 >
                    </h:inputText>
                </div>
                <h:commandButton class="btnSubmit" style="color:#000;width:40em; " action="#{carBB.registerBooking()}" type="submit" value="Book" >
		    <f:ajax  execute="carOwner plateNo location" render="bookingId"/>
		</h:commandButton>
                <h:commandButton class="btnSubmit" style="color:#000;width:40em; " action="#{carBB.parkCarFromBooking()}" type="submit" value="Park" />
            </h:form>
        </div>
            <footer id="main-footer">

            <h4>Kigali Parking Cabs</h4>

            <div class="footerdiv">
                <h:form>
                    
                    <h5><h:commandLink value="Facebook"/></h5>
                    <h5><h:commandLink value="Twitter"/></h5>
                    <h5><h:commandLink value="Instagram" /></h5>
                </h:form>
            </div>
            <p>copyright&copy;2021 kpc</p>
        </footer>
    </h:body>
</html>

